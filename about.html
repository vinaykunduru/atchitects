<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <style>
      @font-face {
        font-family: Helvetica;
        src: url(/fonts/Helvetica.ttf);
      }
      @font-face {
        font-family: "Helvetica-Bold";
        src: url(/fonts/Helvetica-Bold.ttf);
      }
      @font-face {
        font-family: "Helvetica-Light";
        src: url(/fonts/helvetica-light.ttf);
      }
      @font-face {
        font-family: "Griffiths";
        src: url(/fonts/Griffiths.otf);
      }
      body {
        padding: 0;
        margin: 0;
        font-family: Helvetica;
        font-size: 14px;
      }
      .logo {
        width: 50px;
        height: auto;
        padding: 5px 0;
      }
      .header {
        position: fixed;
        width: 100%;
        background-color: #fff;
        z-index: 999;
      }
      .headerContainer {
        padding-left: 30px;
        padding-right: 30px;
        display: flex;
        justify-content: space-between;
        vertical-align: middle;
      }

      .css-mobile-menu {
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .css-mobile-menu #menuToggle {
        display: flex;
        flex-direction: column;
        position: fixed;
        padding-right: 1.5rem;
        z-index: 9999;
        -webkit-user-select: none;
        user-select: none;
        right: 0;
        top: 35px;
      }
      .css-mobile-menu #menuToggle input {
        display: flex;
        width: 40px;
        height: 32px;
        position: absolute;
        cursor: pointer;
        opacity: 0;
        z-index: 2;
      }
      .css-mobile-menu #menuToggle span {
        display: flex;
        width: 29px;
        height: 2px;
        margin-bottom: 5px;
        position: relative;
        background: #4a4a4a;
        border-radius: 3px;
        z-index: 1;
        transform-origin: 5px 0px;
        transition: transform 0.5s cubic-bezier(0.77, 0.2, 0.05, 1),
          background 0.5s cubic-bezier(0.77, 0.2, 0.05, 1), opacity 0.55s ease;
      }
      .css-mobile-menu #menuToggle span:first-child {
        transform-origin: 0% 0%;
      }
      .css-mobile-menu #menuToggle span:nth-last-child(2) {
        transform-origin: 0% 100%;
      }
      .css-mobile-menu #menuToggle input:checked ~ span {
        opacity: 1;
        transform: rotate(45deg) translate(-3px, -1px);
      }
      .css-mobile-menu #menuToggle input:checked ~ span:nth-last-child(3) {
        opacity: 0;
        transform: rotate(0deg) scale(0.2, 0.2);
      }
      .css-mobile-menu #menuToggle input:checked ~ span:nth-last-child(2) {
        transform: rotate(-45deg) translate(0, -1px);
      }
      #menu {
        position: absolute;
        width: auto;
        min-width: 50px;
        height: 100vh;
        margin: -50px 0 0 -50px;
        padding: 50px 30px 0 50px;
        padding-top: 110px;
        background-color: transparent;
        -webkit-font-smoothing: antialiased;
        transform-origin: 0% 0%;
        transform: translateX(100%);
        top: 0;
        right: 0;
        transition: transform 0.5s cubic-bezier(0.77, 0.2, 0.05, 1);
        list-style: none;
      }
      #menu li {
        padding: 10px 0;
        transition-delay: 2s;
        text-align: right;
        text-transform: uppercase;
        letter-spacing: 1px;
      }
      #menu li a {
        color: #4a4a4a;
        text-decoration: none;
      }
      .css-mobile-menu #menuToggle input:checked ~ ul {
        transform: none;
      }

      .social {
        display: flex;
        gap: 20px;
        margin: 34px 60px 0 0;
      }
      .social i {
        font-size: 18px;
        color: #4a4a4a;
      }

      .content {
        /* padding-top: 100px; */
        max-width: 80%;
        margin: 120px auto;
        padding-bottom: 250px;
      }
      .content h1 {
        text-transform: uppercase;
        font-size: 2.6rem;
      }

      .content h2 {
        text-transform: uppercase;
        font-size: 2rem;
      }
      .content p {
        max-width: 50%;
        font-size: 16px;
        line-height: 24px;
      }
      .philosophy {
        margin: 0;
        padding: 0;
        display: flex;
        flex-direction: column;
        font-family: "Griffiths";
        font-size: 25px;
      }

      @media all and (max-width: 576px) {
        #menu {
          width: 100vw;
          height: 100vh;
          padding-left: 0;
          padding-right: 0;
          text-align: center;
        }
        #menu li {
          padding: 1rem 2rem;
        }
        .css-mobile-menu #menuToggle {
          padding-right: 1rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="mainWrapper" style="position: relative">
      <div class="header">
        <div class="headerContainer">
          <div class="logo">
            <a href="#"><img src="/images/logo.svg" /></a>
          </div>
          <!-- Logo -->
          <div class="topNav" style="display: none">
            <span><a href="#">Architecture</a></span>
            <span><a href="#">Landscape</a></span>
            <span><a href="#">Products</a></span>
            <!-- <span>Nav1</span>
            <span>Nav1</span> -->
          </div>
          <!-- Top Nav -->
          <div class="social">
            <div>
              <a href="#" target="_blank"><i class="bi bi-facebook"></i></a>
            </div>
            <div>
              <a href="#" target="_blank"><i class="bi bi-instagram"></i></a>
            </div>
            <div>
              <a href="#" target="_blank"><i class="bi bi-twitter"></i></a>
            </div>
            <div>
              <a href="#" target="_blank"><i class="bi bi-youtube"></i></a>
            </div>
          </div>
          <!-- Social -->
        </div>
        <!-- Header Container-->
      </div>
      <!-- Main Nav-->
      <nav class="css-mobile-menu" role="navigation">
        <div id="menuToggle">
          <input type="checkbox" />
          <span></span>
          <span></span>
          <span></span>
          <ul id="menu">
            <li><a href="#">Home</a></li>
            <li><a href="#">About</a></li>
            <li><a href="projects.html">Projects</a></li>
            <li><a href="#">Blog</a></li>
            <li><a href="#">Contact</a></li>
          </ul>
        </div>
      </nav>
      <div class="contentWrapper">
        <div class="container scroll-container">
          <div class="content">
            <section>
              <h1>Our Philosophy</h1>
              <blockquote class="philosophy">
                <span>Stories matter.</span> <span>We are all stories.</span>
                <span>Parts matter.</span>
                <span>We are an indispensable part.</span>
                <span>We tell stories that comfort, enrich, enhance.</span>
                <span>We sell stories that are untouched and so touching.</span>
                <span>We are a new-age storytelling agile ensemble.</span>
                <span>We are a next-gen narrative m√©lange.</span>
                <span>We are all built from the stories we tell and sell.</span>
                <span>We are a thirsty crew.</span>
                <span
                  >We harvest stories that shape the better world you desire and
                  dream of.</span
                >
              </blockquote>
            </section>
            <section>
              <h2>Our Mission</h2>
              <p>
                Our architectural division specializes in designing functional
                and visually stunning spaces. Whether for commercial buildings,
                residential projects, or public spaces, EyeCatch Architects
                combines architectural expertise with artistic and aesthetic
                vision to bring each project to life. We specialize in the
                design and execution of both interiors and exteriors of retail
                spaces from bare cell to complete showrooms and villas. We
                believe in the power of visual storytelling. Our goal is to
                create experiences that captivate target audiences and leave a
                lasting impression. Our philosophy centers on innovation,
                creativity, and meticulous attention to detail, ensuring that
                every project exceeds expectations. From conceptualization to
                execution, we uphold the highest standards of quality and
                professionalism. Our collaborative approach ensures each client
                receives personalized attention and solutions tailored to their
                specific needs. We are an ensemble of storytellers, innovators,
                and creators of immersive experiences. With a passion for
                artistry and a commitment to excellence, we look forward to
                partnering with you on your next project. Choose us for
                unparalleled creativity and visionary design solutions.
              </p>
            </section>
          </div>
          <!-- Content-->
        </div>
        <!-- Container-->
      </div>
      <!-- Content Wrapper-->
    </div>
    <!-- Main Wrapper-->

    <style>
      html,
      body {
        height: 100%;
        /* overflow: hidden; */
      }

      #smooth-wrapper {
        height: 100%;
        /* overflow: hidden; */
      }

      #smooth-content {
        will-change: transform;
      }
    </style>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="
https://cdn.jsdelivr.net/npm/locomotive-scroll@4.1.4/dist/locomotive-scroll.min.js
"></script>

    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/Draggable.min.js"></script>

    <script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/InertiaPlugin.min.js"></script>

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/locomotive-scroll@4.1.4/dist/locomotive-scroll.min.css"
    />

    <script>
      // ‚úÖ Register ScrollTrigger
      gsap.registerPlugin(ScrollTrigger);

      // ‚úÖ Initialize Locomotive Scroll
      const scroll = new LocomotiveScroll({
        el: document.querySelector(".scroll-container"),
        smooth: true,
      });

      gsap.registerPlugin(Draggable, InertiaPlugin);
      //   gsap.registerPlugin(InertiaPlugin);

      // ‚úÖ Sync ScrollTrigger with Locomotive Scroll
      scroll.on("scroll", ScrollTrigger.update);

      ScrollTrigger.scrollerProxy(".scroll-container", {
        scrollTop(value) {
          return arguments.length
            ? scroll.scrollTo(value, 0, 0)
            : scroll.scroll.instance.scroll.y;
        },
        getBoundingClientRect() {
          return {
            top: 0,
            left: 0,
            width: window.innerWidth,
            height: window.innerHeight,
          };
        },
        pinType: document.querySelector(".scroll-container").style.transform
          ? "transform"
          : "fixed",
      });

      // ‚úÖ Setup ScrollTrigger animations on scroll elements
      document.querySelectorAll(".projectItem").forEach((element) => {
        gsap.to(element, {
          scale: 0.9,
          scrollTrigger: {
            trigger: element,
            scroller: ".scroll-container", // üëà important when using locomotive-scroll
            start: "top 30%",
            end: "bottom 20%",
            scrub: true,
          },
        });
      });

      // ‚úÖ Refresh both
      ScrollTrigger.addEventListener("refresh", () => scroll.update());
      ScrollTrigger.refresh();
      /*
      document.addEventListener("DOMContentLoaded", function () {
        const target = document.querySelector(".projecDetails");
        const bounds = document.querySelector(".projectItem");

        if (target && bounds) {
          Draggable.create(".projecDetails", {
            type: "x",
            bounds: ".projectItem",
            lockAxis: true,
            minimumMovement: 3,
            force3D: true,
            onThrowComplete: () => {
              console.log("Drag complete");
            },
            throwProps: true,
            edgeResistance: 0.5,
            dragResistance: 0,
            overshootTolerance: 0.1,
            maxDuration: 0.5,
          });
        } else {
          console.warn("Draggable target or bounds not found in DOM");
        }
      });
      */

      let currentDraggable = null;
      let currentDetails = null;

      document.querySelectorAll(".projectItem").forEach((item) => {
        item.addEventListener("click", function () {
          // Deactivate other items
          document.querySelectorAll(".projectItem").forEach((i) => {
            if (i !== this) {
              i.classList.remove("active");

              // Animate previous .projecDetails back to x: 0
              const oldDetails = i.querySelector(".projecDetails");
              if (oldDetails) {
                gsap.to(oldDetails, {
                  x: 0,
                  duration: 0.3,
                  ease: "power2.out",
                });
              }
            }
          });

          // Kill previous draggable
          if (currentDraggable) {
            currentDraggable.kill();
            currentDraggable = null;
          }

          this.classList.add("active");

          const details = this.querySelector(".projecDetails");
          if (details) {
            // Reset current details (in case it's the same one being reused)
            gsap.set(details, { x: 0 });

            currentDraggable = Draggable.create(details, {
              type: "x",
              bounds: this,
              lockAxis: true,
              minimumMovement: 3,
              force3D: true,
              throwProps: true,
              edgeResistance: 0.5,
              dragResistance: 0,
              overshootTolerance: 0.1,
              maxDuration: 0.5,
              onThrowComplete: () => {
                console.log("Drag complete");
              },
            })[0];

            currentDetails = details;
          }
        });
      });

      /* document.querySelectorAll(".projectItem").forEach((item) => {
    item.addEventListener("click", function () {
      var section = this.querySelector(".projectSection");
      if (section) {
        section.style.opacity = "1";
      }
    });
  });
  */
      var width = window.innerWidth;
      var height = window.innerHeight;

      document.querySelectorAll(".projectItem").forEach((item) => {
        item.addEventListener("click", function () {
          //alert(height);
          // Optional: close others if only one should be open
          document.querySelectorAll(".projectItem").forEach((i) => {
            if (i !== this) {
              i.classList.remove("active");
            }
          });

          // Toggle active class on the clicked item
          this.classList.add("active");
        });
      });

      document.querySelectorAll(".projectItem").forEach((item) => {
        item.addEventListener("click", function () {
          // Remove 'active' class and reset width on all others
          document.querySelectorAll(".projectItem").forEach((i) => {
            if (i !== this) {
              i.classList.remove("active");
              gsap.to(i.querySelector(".projectHero"), {
                width: "420px",
                duration: 0.4,
              });
              i.querySelectorAll(".projectSection").forEach((section) => {
                gsap.to(section, { width: "350px", duration: 0.4 });
              });
            }
          });

          // Scroll this item to vertical center
          const itemRect = this.getBoundingClientRect();
          const scrollOffset =
            itemRect.top +
            scroll.scroll.instance.scroll.y -
            (window.innerHeight / 2 - itemRect.height / 2);

          scroll.scrollTo(scrollOffset, {
            duration: 800,
            offset: 0,
          });

          // Enlarge only this item's sections
          this.classList.add("active");

          gsap.to(this.querySelector(".projectHero"), {
            width: "50vw",
            duration: 0.5,
            ease: "power2.out",
          });

          this.querySelectorAll(".projectSection").forEach((section) => {
            gsap.to(section, {
              width: "450px",
              duration: 0.5,
              ease: "power2.out",
            });
          });
        });
      });

      /*

      document.querySelectorAll(".projectItem").forEach((item) => {
        item.addEventListener("click", function () {
          // Remove 'active' from others
          document.querySelectorAll(".projectItem").forEach((i) => {
            if (i !== this) {
              i.classList.remove("active");
              gsap.to(i, {
                scale: 1,
                duration: 0.5,
              });
            }
          });

          // Scroll to center
          const itemRect = this.getBoundingClientRect();
          const scrollOffset =
            itemRect.top +
            scroll.scroll.instance.scroll.y -
            (window.innerHeight / 2 - itemRect.height / 2);
          scroll.scrollTo(scrollOffset, {
            duration: 800,
            offset: 0,
          });

          // Enlarge clicked item
          this.classList.add("active");
          gsap.to(this, {
            scale: 1.2,
            duration: 0.5,
            ease: "power2.out",
          });
        });
      });
      */
    </script>
  </body>
</html>
